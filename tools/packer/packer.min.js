!function () {
    function updateFlag() {
        this.nextSibling.style.color = this.value ? "#898E79" : "#A03333"
    }

    var base2 = {
        name: "base2",
        version: "1.0.1(pre)",
        exports: "Base, Package, Abstract, Module, Enumerable, Map, Collection, RegGrp, assert, assertArity, assertType, assignID, copy, counter, detect, extend, forEach, format, instanceOf, match, rescape, slice, trim, I, K, Undefined, Null, True, False, bind, delegate, flip, not, partial, unbind",
        global: this,
        namespace: "var global=base2.global;function base(o,a){return o.base.apply(o,a)};",
        detect: new function (_) {
            var global = _,
                jscript;
            if (_.navigator) {
                var element = document.createElement("span"),
                    userAgent = navigator.platform + " " + navigator.userAgent;
                jscript || (userAgent = userAgent.replace(/MSIE\s[\d.]+/, "")), userAgent = userAgent.replace(/([a-z])[\s\/](\d)/gi, "$1$2")
            }
            return function (a) {
                var r = !1,
                    b = "!" == a.charAt(0);
                if (b && (a = a.slice(1)), "(" == a.charAt(0)) try {
                    eval("r=!!" + a)
                } catch (error) {
                } else r = RegExp("(" + a + ")", "i").test(userAgent);
                return !!(b ^ r)
            }
        }(this)
    };
    !new function (_) {
        function _12(e, t) {
            for (var n in t) {
                var r = t[n];
                !Module[n] && "function" == typeof r && r.call && (e[n] = r)
            }
        }

        function _23(e, t, n, r) {
            var i = Module.extend();
            forEach(n.match(/\w+/g), function (t) {
                i[t] = unbind(e.prototype[t])
            }), forEach(r, i.implement, i);
            var a = function () {
                return i(this.constructor == i ? t.apply(null, arguments) : arguments[0])
            };
            return a.prototype = i.prototype, forEach(i, function (t, n) {
                e[n] && delete i.prototype[n], a[n] = i[n]
            }), a.ancestor = Object, delete a.extend, e != Array && delete a.forEach, a
        }

        function extend(e, t) {
            if (e && t) {
                if (arguments.length > 2) {
                    var n = t;
                    t = {}, t[n] = arguments[2]
                }
                var n, r = ("function" == typeof t ? Function : Object).prototype,
                    i = _5.length;
                if (base2.__prototyping)
                    for (; n = _5[--i];) {
                        var a = t[n];
                        a != r[n] && (_4.test(a) ? _22(e, n, a) : e[n] = a)
                    }
                for (n in t)
                    if (void 0 === r[n]) {
                        var a = t[n];
                        if ("@" == n.charAt(0) && detect(n.slice(1))) {
                            arguments.callee(e, a);
                            continue
                        }
                        var s = e[n];
                        s && "function" == typeof a ? a == s || s.method && _11(a, s) || (a.__base || _4.test(a) ? _22(e, n, a) : e[n] = a) : e[n] = a
                    }
            }
            return e
        }

        function _11(e, t) {
            for (; t;) {
                if (!t.ancestor) return !1;
                if (t = t.ancestor, t == e) return !0
            }
            return !1
        }

        function _22(e, t, n) {
            function r() {
                var e = this.base;
                this.base = i;
                var t = n.apply(this, arguments);
                return this.base = e, t
            }

            var i = e[t];
            r.ancestor = i, r.method = n, r.toString = function () {
                return n + ""
            }, e[t] = r
        }

        function forEach(e, t, n, r) {
            if (null != e) {
                if (!r)
                    if ("function" == typeof e && e.call) r = Function;
                    else {
                        if ("function" == typeof e.forEach && e.forEach != arguments.callee) return void e.forEach(t, n);
                        if ("number" == typeof e.length) return void _24(e, t, n)
                    }
                _8(r || Object, e, t, n)
            }
        }

        function _24(e, t, n) {
            if (null != e) {
                var r, i = e.length;
                if ("string" == typeof e)
                    for (r = 0; i > r; r++) t.call(n, e.charAt(r), r, e);
                else
                    for (r = 0; i > r; r++) r in e && t.call(n, e[r], r, e)
            }
        }

        function _8(e, t, n, r) {
            var i = function () {
                this.i = 1
            };
            i.prototype = {
                i: 1
            };
            var a = 0;
            for (var s in new i) a++;
            (_8 = a > 1 ? function (e, t, n, r) {
                var i = {};
                for (var a in t) i[a] || void 0 !== e.prototype[a] || (i[a] = !0, n.call(r, t[a], a, t))
            } : function (e, t, n, r) {
                for (var i in t) void 0 === e.prototype[i] && n.call(r, t[i], i, t)
            })(e, t, n, r)
        }

        function instanceOf(e, t) {
            if ("function" != typeof t) throw new TypeError("Invalid 'instanceOf' operand.");
            if (null == e) return !1;
            if (e instanceof t) return !0;
            if (Base.ancestorOf == t.ancestorOf) return !1;
            var n = e.constructor;
            if ("function" != typeof n) return !1;
            if (Base.ancestorOf == n.ancestorOf) return t == Object;
            switch (t) {
                case Array:
                    return !("object" != typeof e || !e.join || !e.splice);
                case Function:
                    return !("function" != typeof e || !e.call);
                case RegExp:
                    return "" + n.prototype == _6;
                case Date:
                    return !!e.getTimezoneOffset;
                case String:
                case Number:
                case Boolean:
                    return typeof e == typeof t.prototype.valueOf();
                case Object:
                    return !0
            }
            return !1
        }

        function assert(e, t, n) {
            if (!e) throw new (n || Error)(t || "Assertion failed.")
        }

        function assertArity(e, t, n) {
            if (null == t && (t = e.callee.length), t > e.length) throw new SyntaxError(n || "Not enough arguments.")
        }

        function assertType(e, t, n) {
            if (t && ("function" == typeof t ? !instanceOf(e, t) : typeof e != t)) throw new TypeError(n || "Invalid type.")
        }

        function assignID(e) {
            return e.base2ID || (e.base2ID = "b2_" + counter()), e.base2ID
        }

        function counter() {
            return _7++
        }

        function copy(e) {
            var t = function () {
            };
            return t.prototype = e, new t
        }

        function format(e) {
            var t = arguments,
                n = RegExp("%([1-" + arguments.length + "])", "g");
            return (e + "").replace(n, function (e, n) {
                return t.length > n ? t[n] : e
            })
        }

        function match(e, t) {
            return (e + "").match(t) || []
        }

        function rescape(e) {
            return (e + "").replace(_3, "\\$1")
        }

        function trim(e) {
            return (e + "").replace(_1, "").replace(_2, "")
        }

        function I(e) {
            return e
        }

        function K(e) {
            return function () {
                return e
            }
        }

        function bind(e, t) {
            var n = slice(arguments, 2),
                r = function () {
                    return e.apply(t, n.concat(slice(arguments)))
                };
            return r._31 = assignID(e), r
        }

        function delegate(e, t) {
            return function () {
                return e.apply(t, [this].concat(slice(arguments)))
            }
        }

        function flip(e) {
            return function () {
                return e.apply(this, Array2.swap(arguments, 0, 1))
            }
        }

        function not(e) {
            return function () {
                return !e.apply(this, arguments)
            }
        }

        function partial(e) {
            var t = slice.call(arguments, 1);
            return function () {
                return e.apply(this, t.concat(slice(arguments)))
            }
        }

        function unbind(e) {
            return function (t) {
                return e.apply(t, slice(arguments, 1))
            }
        }

        var detect = base2.detect,
            slice = Array.slice || function (e) {
                return function (t) {
                    return e.apply(t, e.call(arguments, 1))
                }
            }(Array.prototype.slice),
            Undefined = K(),
            Null = K(null),
            True = K(!0),
            False = K(!1),
            _0 = /%([1-9])/g,
            _1 = /^\s\s*/,
            _2 = /\s\s*$/,
            _3 = /([\/()[\]{}|*+-.,^$?\\])/g,
            _4 = /eval/.test(detect) ? /\bbase\s*\(/ : /.*/,
            _5 = ["constructor", "toString", "valueOf"],
            _6 = RegExp() + "",
            _7 = 1;
        _8(), eval(base2.namespace);
        var _9 = function (e, t) {
                function n() {
                    if (!base2.__prototyping) {
                        if (this.constructor != arguments.callee && !this.__constructing) return extend(arguments[0], r);
                        this.__constructing = !0, i.apply(this, arguments), delete this.__constructing
                    }
                    return this
                }

                base2.__prototyping = !0;
                var r = new this;
                extend(r, e), delete base2.__prototyping;
                var i = r.constructor;
                r.constructor = n;
                for (var a in Base) n[a] = this[a];
                return n.toString = K(i + ""), n.ancestor = this, n.base = Undefined, n.init = Undefined, extend(n, t), n.prototype = r, n.init(), n
            },
            Base = _9.call(Object, {
                constructor: function () {
                    arguments.length > 0 && this.extend(arguments[0])
                },
                base: function () {
                },
                extend: delegate(extend)
            }, Base = {
                ancestorOf: delegate(_11),
                extend: _9,
                forEach: delegate(_8),
                implement: function (e) {
                    return "function" == typeof e ? _11(Base, e) && e(this.prototype) : extend(this.prototype, e), this
                }
            }),
            Package = Base.extend({
                constructor: function (d, e) {
                    this.extend(e), this.init && this.init(), "base2" != this.name && (this.parent || (this.parent = base2), this.parent.addName(this.name, this), this.namespace = format("var %1=%2;", this.name, (this + "").slice(1, -1)));
                    var f = /[^\s,]+/g;
                    d && (d.imports = Array2.reduce(this.imports.match(f), function (a, b) {
                        return eval("var ns=base2." + b), assert(ns, format("Package not found: '%1'.", b)), a += ns.namespace
                    }, base2.namespace + JavaScript.namespace), d.exports = Array2.reduce(this.exports.match(f), function (e, t) {
                        var n = this.name + "." + t;
                        return this.namespace += "var " + t + "=" + n + ";", e += "if(!" + n + ")" + n + "=" + t + ";"
                    }, "", this))
                },
                exports: "",
                imports: "",
                name: "",
                namespace: "",
                parent: null,
                addName: function (e, t) {
                    this[e] || (this[e] = t, this.exports += ", " + e, this.namespace += format("var %1=%2.%1;", e, this.name))
                },
                addPackage: function (e) {
                    this.addName(e, new Package(null, {
                        name: e,
                        parent: this
                    }))
                },
                toString: function () {
                    return format("[%1]", this.parent ? (this.parent + "").slice(1, -1) + "." + this.name : this.name)
                }
            }),
            Abstract = Base.extend({
                constructor: function () {
                    throw new TypeError("Class cannot be instantiated.")
                }
            }),
            Module = Abstract.extend(null, {
                extend: function (e, t) {
                    var n = this.base();
                    return _12(n, this), n.implement(e), extend(n, t), n.init(), n
                },
                implement: function (e) {
                    var t = this;
                    if ("function" == typeof e) t.base(e), _11(Module, e) && _12(t, e);
                    else {
                        var n = {};
                        _8(Object, e, function (e, r) {
                            function i() {
                                return t[r].apply(t, [this].concat(slice(arguments)))
                            }

                            "@" == r.charAt(0) ? detect(r.slice(1)) && forEach(e, arguments.callee) : !Module[r] && "function" == typeof e && e.call && (i.__base = _4.test(e), n[r] = i)
                        }), extend(t.prototype, n), extend(t, e)
                    }
                    return t
                }
            }),
            Enumerable = Module.extend({
                every: function (e, t, n) {
                    var r = !0;
                    try {
                        this.forEach(e, function (i, a) {
                            if (r = t.call(n, i, a, e), !r) throw StopIteration
                        })
                    } catch (i) {
                        if (i != StopIteration) throw i
                    }
                    return !!r
                },
                filter: function (e, t, n) {
                    var r = 0;
                    return this.reduce(e, function (i, a, s) {
                        return t.call(n, a, s, e) && (i[r++] = a), i
                    }, [])
                },
                invoke: function (e, t) {
                    var n = slice(arguments, 2);
                    return this.map(e, "function" == typeof t ? function (e) {
                        return null == e ? void 0 : t.apply(e, n)
                    } : function (e) {
                        return null == e ? void 0 : e[t].apply(e, n)
                    })
                },
                map: function (e, t, n) {
                    var r = [],
                        i = 0;
                    return this.forEach(e, function (a, s) {
                        r[i++] = t.call(n, a, s, e)
                    }), r
                },
                pluck: function (e, t) {
                    return this.map(e, function (e) {
                        return null == e ? void 0 : e[t]
                    })
                },
                reduce: function (e, t, n, r) {
                    var i = arguments.length > 2;
                    return this.forEach(e, function (a, s) {
                        i ? n = t.call(r, n, a, s, e) : (n = a, i = !0)
                    }), n
                },
                some: function (e, t, n) {
                    return !this.every(e, not(t), n)
                }
            }, {
                forEach: forEach
            }),
            _14 = "#",
            Map = Base.extend({
                constructor: function (e) {
                    this.merge(e)
                },
                copy: delegate(copy),
                forEach: function (e, t) {
                    for (var n in this) n.charAt(0) == _14 && e.call(t, this[n], n.slice(1), this)
                },
                get: function (e) {
                    return this[_14 + e]
                },
                getKeys: function () {
                    return this.map(flip(I))
                },
                getValues: function () {
                    return this.map(I)
                },
                has: function (e) {
                    return _14 + e in this
                },
                merge: function () {
                    var e = flip(this.put);
                    return forEach(arguments, function (t) {
                        forEach(t, e, this)
                    }, this), this
                },
                remove: function (e) {
                    delete this[_14 + e]
                },
                put: function (e, t) {
                    1 == arguments.length && (t = e), this[_14 + e] = t
                },
                size: function () {
                    var e = 0;
                    for (var t in this) t.charAt(0) == _14 && e++;
                    return e
                },
                union: function () {
                    return this.merge.apply(this.copy(), arguments)
                }
            });
        Map.implement(Enumerable);
        var _15 = "~",
            Collection = Map.extend({
                constructor: function (e) {
                    this[_15] = new Array2, this.base(e)
                },
                add: function (e) {
                    assert(!this.has(e), "Duplicate key '" + e + "'."), this.put.apply(this, arguments)
                },
                copy: function () {
                    var e = this.base();
                    return e[_15] = this[_15].copy(), e
                },
                forEach: function (e, t) {
                    for (var n = this[_15], r = n.length, i = 0; r > i; i++) e.call(t, this[_14 + n[i]], n[i], this)
                },
                getAt: function (e) {
                    0 > e && (e += this[_15].length);
                    var t = this[_15][e];
                    return void 0 === t ? void 0 : this[_14 + t]
                },
                getKeys: function () {
                    return this[_15].concat()
                },
                indexOf: function (e) {
                    return this[_15].indexOf(e + "")
                },
                insertAt: function (e, t) {
                    assert(Math.abs(e) < this[_15].length, "Index out of bounds."), assert(!this.has(t), "Duplicate key '" + t + "'."), this[_15].insertAt(e, t + ""), this.put.apply(this, slice(arguments, 1))
                },
                item: Undefined,
                put: function (e, t) {
                    1 == arguments.length && (t = e), this.has(e) || this[_15].push(e + "");
                    var n = this.constructor;
                    n.Item && !instanceOf(t, n.Item) && (t = n.create.apply(n, arguments)), this[_14 + e] = t
                },
                putAt: function (e) {
                    assert(Math.abs(e) < this[_15].length, "Index out of bounds."), arguments[0] = this[_15].item(e), this.put.apply(this, arguments)
                },
                remove: function (e) {
                    this.has(e) && (this[_15].remove(e + ""), delete this[_14 + e])
                },
                removeAt: function (e) {
                    this[_15].removeAt(e), delete this[_14 + key]
                },
                reverse: function () {
                    return this[_15].reverse(), this
                },
                size: function () {
                    return this[_15].length
                },
                sort: function (e) {
                    if (e) {
                        var t = this;
                        this[_15].sort(function (n, r) {
                            return e(t[_14 + n], t[_14 + r], n, r)
                        })
                    } else this[_15].sort();
                    return this
                },
                toString: function () {
                    return this[_15] + ""
                }
            }, {
                Item: null,
                init: function () {
                    this.prototype.item = this.prototype.getAt
                },
                create: function (e, t) {
                    return this.Item ? new this.Item(e, t) : t
                },
                extend: function (e, t) {
                    var n = this.base(e);
                    return n.create = this.create, extend(n, t), n.Item ? "function" != typeof n.Item && (n.Item = (this.Item || Base).extend(n.Item)) : n.Item = this.Item, n.init(), n
                }
            }),
            _16 = /\\(\d+)/g,
            _17 = /\\./g,
            _18 = /\(\?[:=!]|\[[^\]]+\]/g,
            _19 = /\(/g,
            _20 = /\$(\d+)/,
            _21 = /^\$\d+$/,
            RegGrp = Collection.extend({
                constructor: function (e, t) {
                    this.base(e), "string" == typeof t && (this.global = /g/.test(t), this.ignoreCase = /i/.test(t))
                },
                global: !0,
                ignoreCase: !1,
                exec: function (e, t) {
                    var n = (this.global ? "g" : "") + (this.ignoreCase ? "i" : "");
                    if (e += "", 1 == arguments.length) {
                        var r = this,
                            i = this[_15];
                        t = function (t) {
                            if (t)
                                for (var n, a = 1, s = 0; n = r[_14 + i[s++]];) {
                                    var o = a + n.length + 1;
                                    if (arguments[a]) {
                                        var c = n.replacement;
                                        switch (typeof c) {
                                            case "function":
                                                var u = slice(arguments, a, o),
                                                    l = arguments[arguments.length - 2];
                                                return c.apply(r, u.concat(l, e));
                                            case "number":
                                                return arguments[a + c];
                                            default:
                                                return c
                                        }
                                    }
                                    a = o
                                }
                            return ""
                        }
                    }
                    return e.replace(RegExp(this, n), t)
                },
                insertAt: function (e, t) {
                    return instanceOf(t, RegExp) && (arguments[1] = t.source), base(this, arguments)
                },
                test: function (e) {
                    return this.exec(e) != e
                },
                toString: function () {
                    var e = 0;
                    return "(" + this.map(function (t) {
                        var n = (t + "").replace(_16, function (t, n) {
                            return "\\" + (1 + +n + e)
                        });
                        return e += t.length + 1, n
                    }).join(")|(") + ")"
                }
            }, {
                IGNORE: "$0",
                init: function () {
                    forEach("add,get,has,put,remove".split(","), function (e) {
                        _22(this, e, function (e) {
                            return e && e.source && (arguments[0] = e.source), base(this, arguments)
                        })
                    }, this.prototype)
                },
                Item: {
                    constructor: function (e, t) {
                        if (e = e && e.source ? e.source : e + "", "number" == typeof t ? t += "" : null == t && (t = ""), "string" == typeof t && _20.test(t))
                            if (_21.test(t)) t = parseInt(t.slice(1));
                            else {
                                var n = /'/.test(t.replace(/\\./g, "")) ? '"' : "'";
                                t = t.replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\$(\d+)/g, n + "+(arguments[$1]||" + n + n + ")+" + n), t = Function("return " + n + t.replace(/(['"])\1\+(.*)\+\1\1$/, "$1") + n)
                            }
                        this.length = RegGrp.count(e), this.replacement = t, this.toString = K(e)
                    },
                    length: 0,
                    replacement: ""
                },
                count: function (e) {
                    return e = (e + "").replace(_17, "").replace(_18, ""), match(e, _19).length
                }
            }),
            JavaScript = {
                name: "JavaScript",
                version: base2.version,
                exports: "Array2, Date2, String2",
                namespace: "",
                bind: function (e) {
                    forEach(this.exports.match(/\w+/g), function (t) {
                        var n = t.slice(0, -1);
                        extend(e[n], this[t]), this[t](e[n].prototype)
                    }, this)
                }
            };
        (new Date).getYear() > 1900 && (Date.prototype.getYear = function () {
            return this.getFullYear() - 1900
        }, Date.prototype.setYear = function (e) {
            return this.setFullYear(e + 1900)
        }), Function.prototype.prototype = {}, "$" == "".replace(/^/, K("$$")) && extend(String.prototype, "replace", function (e, t) {
            if ("function" == typeof t) {
                var n = t;
                t = function () {
                    return (n.apply(null, arguments) + "").split("$").join("$$")
                }
            }
            return this.base(e, t)
        });
        var Array2 = _23(Array, Array, "concat,join,pop,push,reverse,shift,slice,sort,splice,unshift", [Enumerable, {
            combine: function (e, t) {
                return t || (t = e), this.reduce(e, function (e, n, r) {
                    return e[n] = t[r], e
                }, {})
            },
            contains: function (e, t) {
                return -1 != this.indexOf(e, t)
            },
            copy: function (e) {
                var t = this.slice(e);
                return t.swap || this(t), t
            },
            flatten: function (e) {
                return this.reduce(e, function (e, t) {
                    return this.like(t) ? this.reduce(t, arguments.callee, e, this) : e.push(t), e
                }, [], this)
            },
            forEach: _24,
            indexOf: function (e, t, n) {
                var r = e.length;
                null == n ? n = 0 : 0 > n && (n = Math.max(0, r + n));
                for (var i = n; r > i; i++)
                    if (e[i] === t) return i;
                return -1
            },
            insertAt: function (e, t, n) {
                return this.splice(e, t, 0, n), n
            },
            item: function (e, t) {
                return 0 > t && (t += e.length), e[t]
            },
            lastIndexOf: function (e, t, n) {
                var r = e.length;
                null == n ? n = r - 1 : from < 0 && (n = Math.max(0, r + n));
                for (var i = n; i >= 0; i--)
                    if (e[i] === t) return i;
                return -1
            },
            map: function (e, t, n) {
                var r = [];
                return this.forEach(e, function (i, a) {
                    r[a] = t.call(n, i, a, e)
                }), r
            },
            remove: function (e, t) {
                var n = this.indexOf(e, t);
                return -1 != n && this.removeAt(e, n), t
            },
            removeAt: function (e, t) {
                return this.splice(e, t, 1)
            },
            swap: function (e, t, n) {
                var r = e[t];
                return e[t] = e[n], e[n] = r, e
            }
        }]);
        Array2.reduce = Enumerable.reduce, Array2.like = function (e) {
            return !(!e || "object" != typeof e || "number" != typeof e.length)
        };
        var _25 = /^((-\d+|\d{4,})(-(\d{2})(-(\d{2}))?)?)?T((\d{2})(:(\d{2})(:(\d{2})(\.(\d{1,3})(\d)?\d*)?)?)?)?(([+-])(\d{2})(:(\d{2}))?|Z)?$/,
            _26 = {
                FullYear: 2,
                Month: 4,
                Date: 6,
                Hours: 8,
                Minutes: 10,
                Seconds: 12,
                Milliseconds: 14
            },
            _27 = {
                Hectomicroseconds: 15,
                UTC: 16,
                Sign: 17,
                Hours: 18,
                Minutes: 20
            },
            _28 = /(((00)?:0+)?:0+)?\.0+$/,
            _29 = /(T[0-9:.]+)$/,
            Date2 = _23(Date, function (e, t, n, r, i, a, s) {
                switch (arguments.length) {
                    case 0:
                        return new Date;
                    case 1:
                        return new Date(e);
                    default:
                        return new Date(e, t, 2 == arguments.length ? 1 : n, r || 0, i || 0, a || 0, s || 0)
                }
            }, "", [{
                toISOString: function (e) {
                    var t = "####-##-##T##:##:##.###";
                    for (var n in _26) t = t.replace(/#+/, function (t) {
                        var r = e["getUTC" + n]();
                        return "Month" == n && r++, ("000" + r).slice(-t.length)
                    });
                    return t.replace(_28, "").replace(_29, "$1Z")
                }
            }]);
        Date2.now = function () {
            return (new Date).valueOf()
        }, Date2.parse = function (e, t) {
            arguments.length > 1 && assertType(t, "number", "defaultDate should be of type 'number'.");
            var n = (e + "").match(_25);
            if (n) {
                n[_26.Month] && n[_26.Month]--, n[_27.Hectomicroseconds] >= 5 && n[_26.Milliseconds]++;
                var r = new Date(t || 0),
                    i = n[_27.UTC] || n[_27.Hours] ? "UTC" : "";
                for (var a in _26) {
                    var s = n[_26[a]];
                    if (s && (r["set" + i + a](s), r["get" + i + a]() != n[_26[a]])) return NaN
                }
                if (n[_27.Hours]) {
                    var o = +(n[_27.Sign] + n[_27.Hours]),
                        c = +(n[_27.Sign] + (n[_27.Minutes] || 0));
                    r.setUTCMinutes(r.getUTCMinutes() + 60 * o + c)
                }
                return r.valueOf()
            }
            return Date.parse(e)
        };
        var String2 = _23(String, function (e) {
            return new String(0 == arguments.length ? "" : e)
        }, "charAt,charCodeAt,concat,indexOf,lastIndexOf,match,replace,search,slice,split,substr,substring,toLowerCase,toUpperCase", [{
            trim: trim
        }]);
        "undefined" == typeof StopIteration && (StopIteration = Error("StopIteration")), base2 = new Package(this, base2), eval(this.exports), base2.extend = extend, forEach(Enumerable, function (e, t) {
            Module[t] || base2.addName(t, bind(e, Enumerable))
        }), JavaScript = new Package(this, JavaScript), eval(this.exports)
    }, new function (_) {
        function _44(e, t) {
            if (_41.test(t)) return parseInt(t);
            var n = e.style.left,
                r = e.runtimeStyle.left;
            return e.runtimeStyle.left = e.currentStyle.left, e.style.left = t || 0, t = e.style.pixelLeft, e.style.left = n, e.runtimeStyle.left = r, t
        }

        function _45(e, t) {
            var n = e.document.body.createTextRange();
            n.moveToElementText(e);
            var r = n.queryCommandValue(t);
            return format("rgb(%1,%2,%3)", 255 & r, (65280 & r) >> 8, (16711680 & r) >> 16)
        }

        function _48(e, t) {
            return "[not(" + _49.exec(trim(t)).replace(/\[1\]/g, "").replace(/^(\*|[\w-]+)/, "[self::$1]").replace(/\]\[/g, " and ").slice(1, -1) + ")]"
        }

        function _47(e, t, n) {
            return "[" + CSSParser._47(e, t, n || "count(preceding-sibling::*)+1", "last()", "not", " and ", " mod ", "=") + "]"
        }

        var DOM = new base2.Package(this, {
            name: "DOM",
            version: "1.0 (beta 1)",
            exports: "Interface, Binding, Node, Document, Element, AbstractView, Event, EventTarget, DocumentEvent, NodeSelector, DocumentSelector, ElementSelector, StaticNodeList, ViewCSS, HTMLDocument, HTMLElement, Selector, Traversal, XPathParser",
            bind: function (e) {
                if (e && e.nodeType) {
                    var t = assignID(e);
                    if (!arguments.callee[t]) {
                        switch (e.nodeType) {
                            case 1:
                                "string" == typeof e.className ? (HTMLElement.bindings[e.tagName] || HTMLElement).bind(e) : Element.bind(e);
                                break;
                            case 9:
                                e.writeln ? HTMLDocument.bind(e) : Document.bind(e);
                                break;
                            default:
                                Node.bind(e)
                        }
                        arguments.callee[t] = !0
                    }
                }
                return e
            },
            "@MSIE5.+win": {
                bind: function (e) {
                    return e && e.writeln && (e.nodeType = 9), this.base(e)
                }
            }
        });
        eval(this.imports);
        var _32 = detect("MSIE"),
            _33 = detect("MSIE5");
        if (detect("MSIE[56].+win") && !detect("SV1")) {
            var closures = {};
            extend(base2, "bind", function (e, t) {
                if (!t || 1 != t.nodeType) return this.base(e, t);
                var n = t.uniqueID,
                    r = assignID(e);
                closures[r] = e, e = null, t = null, closures[n] || (closures[n] = {});
                var i = closures[n][r];
                if (i) return i;
                var a = function () {
                    var e = document.all[n];
                    return e ? closures[r].apply(e, arguments) : void 0
                };
                return a._31 = r, closures[n][r] = a, a
            }), attachEvent("onunload", function () {
                closures = null
            })
        }
        var Interface = Module.extend(null, {
                implement: function (e) {
                    return "object" == typeof e && forEach(e, function (e, t) {
                        "@" == t.charAt(0) ? forEach(e, arguments.callee, this) : this[t] || "function" != typeof e || this.createDelegate(t, e.length)
                    }, this), this.base(e)
                },
                createDelegate: function (a, b) {
                    if (!this[a]) {
                        var c = "var fn=function _%1(%2){%3.base=%3.%1.ancestor;var m=%3.base?'base':'%1';return %3[m](%4)}",
                            d = "abcdefghij".split("").slice(-b);
                        eval(format(c, a, d, d[0], d.slice(1))), this[a] = fn
                    }
                }
            }),
            Binding = Interface.extend(null, {
                extend: function (e, t) {
                    if (t && t.bind != Function.bind) {
                        var n = t.bind;
                        delete t.bind
                    }
                    var r = this.base(e, t);
                    return r.bind = this.bind, n && extend(r, "bind", n), r
                },
                bind: function (e) {
                    return extend(e, this.prototype)
                }
            }),
            Node = Binding.extend({
                "@!(element.compareDocumentPosition)": {
                    compareDocumentPosition: function (e, t) {
                        if (Traversal.contains(e, t)) return 20;
                        if (Traversal.contains(t, e)) return 10;
                        var n = _34(e),
                            r = _34(t);
                        return r > n ? 4 : n > r ? 2 : 0
                    }
                }
            }),
            _34 = document.documentElement.sourceIndex ? function (e) {
                return e.sourceIndex
            } : function (e) {
                for (var t = 0; e;) t = Traversal.getNodeIndex(e) + "." + t, e = e.parentNode;
                return t
            },
            Document = Node.extend(null, {
                bind: function (e) {
                    return extend(e, "createElement", function (e) {
                        return DOM.bind(this.base(e))
                    }), AbstractView.bind(e.defaultView), e != window.document && new DOMContentLoadedEvent(e), this.base(e)
                },
                "@!(document.defaultView)": {
                    bind: function (e) {
                        return e.defaultView = Traversal.getDefaultView(e), this.base(e)
                    }
                }
            }),
            _35 = /^(href|src|type|value)$/,
            _36 = {
                "class": "className",
                "for": "htmlFor"
            },
            Element = Node.extend({
                "@MSIE.+win": {
                    getAttribute: function (e, t) {
                        if (void 0 === e.className) return this.base(e, t);
                        var n = _37(e, t);
                        return n && n.specified ? _35.test(t) ? this.base(e, t, 2) : "style" == t ? e.style.cssText : n.nodeValue : null
                    },
                    setAttribute: function (e, t, n) {
                        void 0 === e.className ? this.base(e, t, n) : "style" == t ? e.style.cssText = n : this.base(e, _36[t] || t, n + "")
                    }
                },
                "@!(element.hasAttribute)": {
                    hasAttribute: function (e, t) {
                        return null != this.getAttribute(e, t)
                    }
                }
            });
        if (extend(Element.prototype, "cloneNode", function (e) {
                var t = this.base(e || !1);
                return t.base2ID = void 0, t
            }), _32) {
            var names = "colSpan,rowSpan,vAlign,dateTime,accessKey,tabIndex,encType,maxLength,readOnly,longDesc";
            extend(_36, Array2.combine(names.toLowerCase().split(","), names.split(",")));
            var _37 = _33 ? function (e, t) {
                return e.attributes[t] || e.attributes[_36[t.toLowerCase()]]
            } : function (e, t) {
                return e.getAttributeNode(t)
            }
        }
        var TEXT = _32 ? "innerText" : "textContent",
            Traversal = Module.extend({
                getDefaultView: function (e) {
                    return this.getDocument(e).defaultView
                },
                getNextElementSibling: function (e) {
                    for (; e && (e = e.nextSibling) && !this.isElement(e);) continue;
                    return e
                },
                getNodeIndex: function (e) {
                    for (var t = 0; e && (e = e.previousSibling);) t++;
                    return t
                },
                getOwnerDocument: function (e) {
                    return e.ownerDocument
                },
                getPreviousElementSibling: function (e) {
                    for (; e && (e = e.previousSibling) && !this.isElement(e);) continue;
                    return e
                },
                getTextContent: function (e) {
                    return e[TEXT]
                },
                isEmpty: function (e) {
                    for (e = e.firstChild; e;) {
                        if (3 == e.nodeType || this.isElement(e)) return !1;
                        e = e.nextSibling
                    }
                    return !0
                },
                setTextContent: function (e, t) {
                    return e[TEXT] = t
                },
                "@MSIE": {
                    getDefaultView: function (e) {
                        return this.getDocument(e).parentWindow
                    },
                    "@MSIE5": {
                        getOwnerDocument: function (e) {
                            return e.ownerDocument || e.document
                        }
                    }
                }
            }, {
                contains: function (e, t) {
                    for (; t && (t = t.parentNode) && e != t;) continue;
                    return !!t
                },
                getDocument: function (e) {
                    return this.isDocument(e) ? e : this.getOwnerDocument(e)
                },
                isDocument: function (e) {
                    return !(!e || !e.documentElement)
                },
                isElement: function (e) {
                    return !(!e || 1 != e.nodeType)
                },
                "@(element.contains)": {
                    contains: function (e, t) {
                        return e != t && (this.isDocument(e) ? e == this.getOwnerDocument(t) : e.contains(t))
                    }
                },
                "@MSIE5": {
                    isElement: function (e) {
                        return !(!e || 1 != e.nodeType || "!" == e.tagName)
                    }
                }
            }),
            AbstractView = Binding.extend(),
            Event = Binding.extend({
                "@!(document.createEvent)": {
                    initEvent: function (e, t, n, r) {
                        e.type = t, e.bubbles = n, e.cancelable = r, e.timeStamp = (new Date).valueOf()
                    },
                    "@MSIE": {
                        initEvent: function (e, t, n, r) {
                            this.base(e, t, n, r), e.cancelBubble = !e.bubbles
                        },
                        preventDefault: function (e) {
                            e.cancelable !== !1 && (e.returnValue = !1)
                        },
                        stopPropagation: function (e) {
                            e.cancelBubble = !0
                        }
                    }
                }
            }, {
                "@!(document.createEvent)": {
                    "@MSIE": {
                        "@Mac": {
                            bind: function (e) {
                                return this.base(extend(copy(e), {
                                    preventDefault: function () {
                                        this.cancelable !== !1 && (this.returnValue = !1)
                                    }
                                }))
                            }
                        },
                        "@Windows": {
                            bind: function (e) {
                                return e.timeStamp || (e.bubbles = !!_38[e.type], e.cancelable = !!_39[e.type], e.timeStamp = (new Date).valueOf()), e.target || (e.target = e.srcElement), e.relatedTarget = e[("mouseout" == e.type ? "to" : "from") + "Element"], this.base(e)
                            }
                        }
                    }
                }
            });
        if (_32) {
            var _38 = "abort,error,select,change,resize,scroll",
                _39 = "click,mousedown,mouseup,mouseover,mousemove,mouseout,keydown,keyup,submit,reset";
            _38 = Array2.combine((_38 + "," + _39).split(",")), _39 = Array2.combine(_39.split(","))
        }
        var EventTarget = Interface.extend({
                "@!(element.addEventListener)": {
                    addEventListener: function (e, t, n) {
                        var r = assignID(e),
                            i = n._31 || assignID(n),
                            a = _40[r];
                        a || (a = _40[r] = {});
                        var s = a[t],
                            o = e["on" + t];
                        s || (s = a[t] = {}, o && (s[0] = o)), s[i] = n, void 0 !== o && (e["on" + t] = delegate(_40.handleEvent))
                    },
                    dispatchEvent: function (e, t) {
                        return _40.handleEvent(e, t)
                    },
                    removeEventListener: function (e, t, n) {
                        var r = _40[e.base2ID];
                        r && r[t] && delete r[t][n.base2ID]
                    },
                    "@MSIE.+win": {
                        addEventListener: function (e, t, n, r) {
                            "function" == typeof n && (n = bind(n, e)), this.base(e, t, n, r)
                        },
                        dispatchEvent: function (e, t) {
                            t.target = e;
                            try {
                                return e.fireEvent(t.type, t)
                            } catch (n) {
                                return this.base(e, t)
                            }
                        }
                    }
                }
            }),
            _40 = new Base({
                handleEvent: function (e, t) {
                    var n = !0,
                        r = _40[e.base2ID];
                    if (r) {
                        t = Event.bind(t);
                        var i = r[t.type];
                        for (var a in i) {
                            var s = i[a];
                            if (s.handleEvent) var o = s.handleEvent(t);
                            else o = s.call(e, t);
                            (o === !1 || t.returnValue === !1) && (n = !1)
                        }
                    }
                    return n
                },
                "@MSIE": {
                    handleEvent: function (e, t) {
                        return e.Infinity && (e = e.document.parentWindow, t || (t = e.event)), this.base(e, t || Traversal.getDefaultView(e).event)
                    }
                }
            }),
            DocumentEvent = Interface.extend({
                "@!(document.createEvent)": {
                    createEvent: function () {
                        return Event.bind({})
                    },
                    "@(document.createEventObject)": {
                        createEvent: function (e) {
                            return Event.bind(e.createEventObject())
                        }
                    }
                },
                "@(document.createEvent)": {
                    "@!(document.createEvent('Events'))": {
                        createEvent: function (e, t) {
                            return this.base(e, "Events" == t ? "UIEvents" : t)
                        }
                    }
                }
            }),
            DOMContentLoadedEvent = Base.extend({
                constructor: function (e) {
                    var t = !1;
                    this.fire = function () {
                        t || (t = !0, setTimeout(function () {
                            var t = DocumentEvent.createEvent(e, "Events");
                            Event.initEvent(t, "DOMContentLoaded", !1, !1), EventTarget.dispatchEvent(e, t)
                        }, 1))
                    }, EventTarget.addEventListener(e, "DOMContentLoaded", function () {
                        t = !0
                    }, !1), EventTarget.addEventListener(Traversal.getDefaultView(e), "load", this.fire, !1)
                },
                "@(attachEvent)": {
                    constructor: function () {
                        this.base(document), Traversal.getDefaultView(document).attachEvent("onload", this.fire)
                    }
                },
                "@MSIE.+win": {
                    constructor: function (e) {
                        if (this.base(e), "complete" != e.readyState) {
                            var t = this;
                            e.write("<script id=__ready defer src=//:></script>"), e.all.__ready.onreadystatechange = function () {
                                "complete" == this.readyState && (this.removeNode(), t.fire())
                            }
                        }
                    }
                },
                "@KHTML": {
                    constructor: function (e) {
                        if (this.base(e), "complete" != e.readyState) var t = this,
                            n = setInterval(function () {
                                /loaded|complete/.test(e.readyState) && (clearInterval(n), t.fire())
                            }, 100)
                    }
                }
            });
        new DOMContentLoadedEvent(document), Document.implement(DocumentEvent), Document.implement(EventTarget), Element.implement(EventTarget);
        var _41 = /^\d+(px)?$/i,
            _42 = /(width|height|top|bottom|left|right|fontSize)$/,
            _43 = /^(color|backgroundColor)$/,
            ViewCSS = Interface.extend({
                "@!(document.defaultView.getComputedStyle)": {
                    "@MSIE": {
                        getComputedStyle: function (e, t) {
                            var n = t.currentStyle,
                                r = {
                                    getPropertyValue: function (e) {
                                        return this[ViewCSS.toCamelCase(e)]
                                    }
                                };
                            for (var i in n) r[i] = _42.test(i) ? _44(t, r[i]) + "px" : _43.test(i) ? _45(t, "color" == i ? "ForeColor" : "BackColor") : n[i];
                            return r
                        }
                    }
                }
            }, {
                toCamelCase: function (e) {
                    return e.replace(/\-([a-z])/g, function (e, t) {
                        return t.toUpperCase()
                    })
                }
            });
        AbstractView.implement(ViewCSS);
        var NodeSelector = Interface.extend({
            "@!(element.querySelector)": {
                querySelector: function (e, t) {
                    return new Selector(t).exec(e, 1)
                },
                querySelectorAll: function (e, t) {
                    return new Selector(t).exec(e)
                }
            }
        });
        extend(NodeSelector.prototype, {
            querySelector: function (e) {
                return DOM.bind(this.base(e))
            },
            querySelectorAll: function (e) {
                return extend(this.base(e), "item", function (e) {
                    return DOM.bind(this.base(e))
                })
            }
        });
        var DocumentSelector = NodeSelector.extend(),
            ElementSelector = NodeSelector.extend({
                "@!(element.matchesSelector)": {
                    matchesSelector: function (e, t) {
                        return new Selector(t).test(e)
                    }
                }
            }),
            StaticNodeList = Base.extend({
                constructor: function (e) {
                    e = e || [], this.length = e.length, this.item = function (t) {
                        return e[t]
                    }
                },
                length: 0,
                forEach: function (e, t) {
                    for (var n = 0; this.length > n; n++) e.call(t, this.item(n), n, this)
                },
                item: Undefined,
                "@(XPathResult)": {
                    constructor: function (e) {
                        e && e.snapshotItem ? (this.length = e.snapshotLength, this.item = function (t) {
                            return e.snapshotItem(t)
                        }) : this.base(e)
                    }
                }
            });
        StaticNodeList.implement(Enumerable);
        var CSSParser = RegGrp.extend({
                constructor: function (e) {
                    this.base(e), this.cache = {}, this.sorter = new RegGrp, this.sorter.add(/:not\([^)]*\)/, RegGrp.IGNORE), this.sorter.add(/([ >](\*|[\w-]+))([^: >+~]*)(:\w+-child(\([^)]+\))?)([^: >+~]*)/, "$1$3$6$4")
                },
                cache: null,
                ignoreCase: !0,
                escape: function (e) {
                    var t = /'/g,
                        n = this._46 = [];
                    return this.optimise(this.format((e + "").replace(CSSParser.ESCAPE, function (e) {
                        return n.push(e.slice(1, -1).replace(t, "\\'")), "" + n.length
                    })))
                },
                format: function (e) {
                    return e.replace(CSSParser.WHITESPACE, "$1").replace(CSSParser.IMPLIED_SPACE, "$1 $2").replace(CSSParser.IMPLIED_ASTERISK, "$1*$2")
                },
                optimise: function (e) {
                    return this.sorter.exec(e.replace(CSSParser.WILD_CARD, ">* "))
                },
                parse: function (e) {
                    return this.cache[e] || (this.cache[e] = this.unescape(this.exec(this.escape(e))))
                },
                unescape: function (e) {
                    var t = this._46;
                    return e.replace(/\x01(\d+)/g, function (e, n) {
                        return t[n - 1]
                    })
                }
            }, {
                ESCAPE: /'(\\.|[^'\\])*'|"(\\.|[^"\\])*"/g,
                IMPLIED_ASTERISK: /([\s>+~,]|[^(]\+|^)([#.:@])/g,
                IMPLIED_SPACE: /(^|,)([^\s>+~])/g,
                WHITESPACE: /\s*([\s>+~(),]|^|$)\s*/g,
                WILD_CARD: /\s\*\s/g,
                _47: function (e, t, n, r, i, a, s, o) {
                    r = /last/i.test(e) ? r + "+1-" : "", isNaN(t) ? "even" == t ? t = "2n" : "odd" == t && (t = "2n+1") : t = "0n+" + t, t = t.split(/n\+?/);
                    var c = t[0] ? "-" == t[0] ? -1 : parseInt(t[0]) : 1,
                        u = parseInt(t[1]) || 0,
                        l = 0 > c;
                    l && (c = -c, 1 == c && u++);
                    var f = format(0 == c ? "%3%7" + (r + u) : "(%4%3-%2)%6%1%70%5%4%3>=%2", c, u, n, r, a, s, o);
                    return l && (f = i + "(" + f + ")"), f
                }
            }),
            XPathParser = CSSParser.extend({
                constructor: function () {
                    this.base(XPathParser.rules), this.sorter.putAt(1, "$1$4$3$6")
                },
                escape: function (e) {
                    return this.base(e).replace(/,/g, "")
                },
                unescape: function (e) {
                    return this.base(e.replace(/\[self::\*\]/g, "").replace(/(^|\x02)\//g, "$1./").replace(/\x02/g, " | "))
                },
                "@opera": {
                    unescape: function (e) {
                        return this.base(e.replace(/last\(\)/g, "count(preceding-sibling::*)+count(following-sibling::*)+1"))
                    }
                }
            }, {
                init: function () {
                    this.values.attributes[""] = "[@$1]", forEach(this.types, function (e, t) {
                        forEach(this.values[t], e, this.rules)
                    }, this)
                },
                optimised: {
                    pseudoClasses: {
                        "first-child": "[1]",
                        "last-child": "[last()]",
                        "only-child": "[last()=1]"
                    }
                },
                rules: extend({}, {
                    "@!KHTML": {
                        "(^|\\x02) (\\*|[\\w-]+)#([\\w-]+)": "$1id('$3')[self::$2]",
                        "([ >])(\\*|[\\w-]+):([\\w-]+-child(\\(([^)]+)\\))?)": function (e, t, n, r, i, a) {
                            var s = " " == t ? "//*" : "/*";
                            return s += /^nth/i.test(r) ? _47(r, a, "position()") : XPathParser.optimised.pseudoClasses[r], s + "[self::" + n + "]"
                        }
                    }
                }),
                types: {
                    identifiers: function (e, t) {
                        this[rescape(t) + "([\\w-]+)"] = e
                    },
                    combinators: function (e, t) {
                        this[rescape(t) + "(\\*|[\\w-]+)"] = e
                    },
                    attributes: function (e, t) {
                        this["\\[([\\w-]+)\\s*" + rescape(t) + "\\s*([^\\]]*)\\]"] = e
                    },
                    pseudoClasses: function (e, t) {
                        this[":" + t.replace(/\(\)$/, "\\(([^)]+)\\)")] = e
                    }
                },
                values: {
                    identifiers: {
                        "#": "[@id='$1'][1]",
                        ".": "[contains(concat(' ',@class,' '),' $1 ')]"
                    },
                    combinators: {
                        " ": "/descendant::$1",
                        ">": "/child::$1",
                        "+": "/following-sibling::*[1][self::$1]",
                        "~": "/following-sibling::$1"
                    },
                    attributes: {
                        "*=": "[contains(@$1,'$2')]",
                        "^=": "[starts-with(@$1,'$2')]",
                        "$=": "[substring(@$1,string-length(@$1)-string-length('$2')+1)='$2']",
                        "~=": "[contains(concat(' ',@$1,' '),' $2 ')]",
                        "|=": "[contains(concat('-',@$1,'-'),'-$2-')]",
                        "!=": "[not(@$1='$2')]",
                        "=": "[@$1='$2']"
                    },
                    pseudoClasses: {
                        empty: "[not(child::*) and not(text())]",
                        "first-child": "[not(preceding-sibling::*)]",
                        "last-child": "[not(following-sibling::*)]",
                        "not()": _48,
                        "nth-child()": _47,
                        "nth-last-child()": _47,
                        "only-child": "[not(preceding-sibling::*) and not(following-sibling::*)]",
                        root: "[not(parent::*)]"
                    }
                },
                "@opera": {
                    init: function () {
                        this.optimised.pseudoClasses["last-child"] = this.values.pseudoClasses["last-child"], this.optimised.pseudoClasses["only-child"] = this.values.pseudoClasses["only-child"], this.base()
                    }
                }
            }),
            _49 = new XPathParser,
            _50 = ":(checked|disabled|enabled|contains)|^(#[\\w-]+\\s*)?\\w+$";
        detect("KHTML") && (detect("WebKit5") ? _50 += "|nth\\-|," : _50 = "."), _50 = RegExp(_50);
        var _51, Selector = Base.extend({
            constructor: function (e) {
                this.toString = K(trim(e))
            },
            exec: function (e, t) {
                return Selector.parse(this)(e, t)
            },
            test: function (e) {
                var t = new Selector(this + "[-base2-test]");
                e.setAttribute("-base2-test", !0);
                var n = t.exec(Traversal.getOwnerDocument(e), !0);
                return e.removeAttribute("-base2-test"), n == e
            },
            toXPath: function () {
                return Selector.toXPath(this)
            },
            "@(XPathResult)": {
                exec: function (e, t) {
                    if (_50.test(this)) return this.base(e, t);
                    var n = Traversal.getDocument(e),
                        r = t ? 9 : 7,
                        i = n.evaluate(this.toXPath(), e, null, r, null);
                    return t ? i.singleNodeValue : i
                }
            },
            "@MSIE": {
                exec: function (e, t) {
                    if (void 0 !== e.selectNodes && !_50.test(this)) {
                        var n = t ? "selectSingleNode" : "selectNodes";
                        return e[n](this.toXPath())
                    }
                    return this.base(e, t)
                }
            },
            "@(true)": {
                exec: function (e, t) {
                    try {
                        var n = this.base(e || document, t)
                    } catch (r) {
                        throw new SyntaxError(format("'%1' is not a valid CSS selector.", this))
                    }
                    return t ? n : new StaticNodeList(n)
                }
            }
        }, {
            toXPath: function (e) {
                return _51 || (_51 = new XPathParser), _51.parse(e)
            }
        });
        !new function (_) {
            function register(e) {
                if (e.rows) e.b2_length = e.rows.length, e.b2_lookup = "rowIndex";
                else if (e.cells) e.b2_length = e.cells.length,
                    e.b2_lookup = "cellIndex";
                else if (e.b2_indexed != indexed) {
                    for (var t = 0, n = e.firstChild; n;) 1 == n.nodeType && "!" != n.nodeName && (n.b2_index = ++t), n = n.nextSibling;
                    e.b2_length = t, e.b2_lookup = "b2_index"
                }
                return e.b2_indexed = indexed, e
            }

            var _52 = {
                "=": "%1=='%2'",
                "!=": "%1!='%2'",
                "~=": /(^| )%1( |$)/,
                "|=": /^%1(-|$)/,
                "^=": /^%1/,
                "$=": /%1$/,
                "*=": /%1/
            };
            _52[""] = "%1!=null";
            var _53 = {
                    checked: "e%1.checked",
                    contains: "e%1[TEXT].indexOf('%2')!=-1",
                    disabled: "e%1.disabled",
                    empty: "Traversal.isEmpty(e%1)",
                    enabled: "e%1.disabled===false",
                    "first-child": "!Traversal.getPreviousElementSibling(e%1)",
                    "last-child": "!Traversal.getNextElementSibling(e%1)",
                    "only-child": "!Traversal.getPreviousElementSibling(e%1)&&!Traversal.getNextElementSibling(e%1)",
                    root: "e%1==Traversal.getDocument(e%1).documentElement"
                },
                _54 = detect("(element.sourceIndex)"),
                _55 = "var p%2=0,i%2,e%2,n%2=e%1.",
                _56 = _54 ? "e%1.sourceIndex" : "assignID(e%1)",
                _57 = "var g=" + _56 + ";if(!p[g]){p[g]=1;",
                _58 = "r[r.length]=e%1;if(s)return e%1;",
                _59 = "r.sort(sorter);",
                _60 = "fn=function(e0,s){indexed++;var r=[],p={},reg=[%1],d=Traversal.getDocument(e0),c=d.body?'toUpperCase':'toString';",
                byId = _32 ? function (e, t) {
                    var n = e.all[t] || null;
                    if (!n || n.id == t) return n;
                    for (var r = 0; n.length > r; r++)
                        if (n[r].id == t) return n[r];
                    return null
                } : function (e, t) {
                    return e.getElementById(t)
                },
                indexed = 1,
                sorter = _54 ? function (e, t) {
                    return e.sourceIndex - t.sourceIndex
                } : Node.compareDocumentPosition,
                fn, reg, _61, _62, _63, _64, _65 = {},
                parser = new CSSParser({
                    "^ \\*:root": function () {
                        _62 = !1;
                        var e = "e%2=d.documentElement;if(Traversal.contains(e%1,e%2)){";
                        return format(e, _61++, _61)
                    },
                    " (\\*|[\\w-]+)#([\\w-]+)": function (e, t, n) {
                        _62 = !1;
                        var r = "var e%2=byId(d,'%4');if(e%2&&";
                        return "*" != t && (r += "e%2.nodeName=='%3'[c]()&&"), r += "Traversal.contains(e%1,e%2)){", _63 && (r += format("i%1=n%1.length;", _63)), format(r, _61++, _61, t, n)
                    },
                    " (\\*|[\\w-]+)": function (e, t) {
                        _64++, _62 = "*" == t;
                        var n = _55;
                        return n += _62 && _33 ? "all" : "getElementsByTagName('%3')", n += ";for(i%2=0;(e%2=n%2[i%2]);i%2++){", format(n, _61++, _63 = _61, t)
                    },
                    ">(\\*|[\\w-]+)": function (e, t) {
                        var n = _32 && _63;
                        _62 = "*" == t;
                        var r = _55;
                        return r += n ? "children" : "childNodes", !_62 && n && (r += ".tags('%3')"), r += ";for(i%2=0;(e%2=n%2[i%2]);i%2++){", _62 ? (r += "if(e%2.nodeType==1){", _62 = _33) : n || (r += "if(e%2.nodeName=='%3'[c]()){"), format(r, _61++, _63 = _61, t)
                    },
                    "\\+(\\*|[\\w-]+)": function (e, t) {
                        var n = "";
                        return _62 && _32 && (n += "if(e%1.tagName!='!'){"), _62 = !1, n += "e%1=Traversal.getNextElementSibling(e%1);if(e%1", "*" != t && (n += "&&e%1.nodeName=='%2'[c]()"), n += "){", format(n, _61, t)
                    },
                    "~(\\*|[\\w-]+)": function (e, t) {
                        var n = "";
                        return _62 && _32 && (n += "if(e%1.tagName!='!'){"), _62 = !1, _64 = 2, n += "while(e%1=e%1.nextSibling){if(e%1.b2_adjacent==indexed)break;if(", "*" == t ? (n += "e%1.nodeType==1", _33 && (n += "&&e%1.tagName!='!'")) : n += "e%1.nodeName=='%2'[c]()", n += "){e%1.b2_adjacent=indexed;", format(n, _61, t)
                    },
                    "#([\\w-]+)": function (e, t) {
                        _62 = !1;
                        var n = "if(e%1.id=='%2'){";
                        return _63 && (n += format("i%1=n%1.length;", _63)), format(n, _61, t)
                    },
                    "\\.([\\w-]+)": function (e, t) {
                        return _62 = !1, reg.push(RegExp("(^|\\s)" + rescape(t) + "(\\s|$)")), format("if(e%1.className&&reg[%2].test(e%1.className)){", _61, reg.length - 1)
                    },
                    ":not\\((\\*|[\\w-]+)?([^)]*)\\)": function (e, t, n) {
                        var r = t && "*" != t ? format("if(e%1.nodeName=='%2'[c]()){", _61, t) : "";
                        return r += parser.exec(n), "if(!" + r.slice(2, -1).replace(/\)\{if\(/g, "&&") + "){"
                    },
                    ":nth(-last)?-child\\(([^)]+)\\)": function (e, t, n) {
                        _62 = !1, t = format("e%1.parentNode.b2_length", _61);
                        var r = "if(p%1!==e%1.parentNode)p%1=register(e%1.parentNode);";
                        return r += "var i=e%1[p%1.b2_lookup];if(", format(r, _61) + CSSParser._47(e, n, "i", t, "!", "&&", "%", "==") + "){"
                    },
                    ":([\\w-]+)(\\(([^)]+)\\))?": function (e, t, n, r) {
                        return "if(" + format(_53[t] || "throw", _61, r || "") + "){"
                    },
                    "\\[([\\w-]+)\\s*([^=]?=)?\\s*([^\\]]*)\\]": function (e, t, n, r) {
                        var i = _36[t] || t;
                        if (n) {
                            var a = "e%1.getAttribute('%2',2)";
                            _35.test(t) || (a = "e%1.%3||" + a), t = format("(" + a + ")", _61, t, i)
                        } else t = format("Element.getAttribute(e%1,'%2')", _61, t);
                        var s = _52[n || ""];
                        return instanceOf(s, RegExp) && (reg.push(RegExp(format(s.source, rescape(parser.unescape(r))))), s = "reg[%2].test(%1)", r = reg.length - 1), "if(" + format(s, t, r) + "){"
                    }
                });
            Selector.parse = function (a) {
                if (!_65[a]) {
                    reg = [], fn = "";
                    for (var b = parser.escape(a).split(","), i = 0; b.length > i; i++) {
                        _62 = _61 = _63 = 0, _64 = b.length > 1 ? 2 : 0;
                        var c = parser.exec(b[i]) || "throw;";
                        _62 && _32 && (c += format("if(e%1.tagName!='!'){", _61));
                        var d = _64 > 1 ? _57 : "";
                        c += format(d + _58, _61), c += Array(match(c, /\{/g).length + 1).join("}"), fn += c
                    }
                    b.length > 1 && (fn += _59), eval(format(_60, reg) + parser.unescape(fn) + "return s?null:r}"), _65[a] = fn
                }
                return _65[a]
            }
        }, Document.implement(DocumentSelector), Element.implement(ElementSelector);
        var HTMLDocument = Document.extend(null, {
                "@(document.activeElement===undefined)": {
                    bind: function (e) {
                        return e.activeElement = null, EventTarget.addEventListener(e, "focus", function (t) {
                            e.activeElement = t.target
                        }, !1), this.base(e)
                    }
                }
            }),
            HTMLElement = Element.extend({
                addClass: function (e, t) {
                    this.hasClass(e, t) || (e.className += (e.className ? " " : "") + t)
                },
                hasClass: function (e, t) {
                    var n = RegExp("(^|\\s)" + t + "(\\s|$)");
                    return n.test(e.className)
                },
                removeClass: function (e, t) {
                    var n = RegExp("(^|\\s)" + t + "(\\s|$)", "g");
                    e.className = e.className.replace(n, "$2")
                },
                toggleClass: function (e, t) {
                    this.hasClass(e, t) ? this.removeClass(e, t) : this.addClass(e, t)
                }
            }, {
                bindings: {},
                tags: "*",
                extend: function () {
                    var e = base(this, arguments),
                        t = (e.tags || "").toUpperCase().split(",");
                    return forEach(t, function (t) {
                        HTMLElement.bindings[t] = e
                    }), e
                },
                "@!(element.ownerDocument)": {
                    bind: function (e) {
                        return e.ownerDocument = Traversal.getOwnerDocument(e), this.base(e)
                    }
                }
            });
        eval(this.exports)
    }, new function (_) {
        var JSB = new base2.Package(this, {
            name: "JSB",
            version: "0.7",
            imports: "DOM",
            exports: "Behavior, Rule, RuleList"
        });
        eval(this.imports);
        var Behavior = Abstract.extend(),
            Call = Base.extend({
                constructor: function (e, t, n, r) {
                    this.release = function () {
                        t.apply(e, n)
                    }, this.rank = r || 100 + Call.list.length
                }
            }, {
                list: [],
                defer: function (e, t) {
                    return function () {
                        Call.list ? Call.list.push(new Call(this, e, arguments, t)) : e.apply(this, arguments)
                    }
                },
                init: function () {
                    EventTarget.addEventListener(document, "DOMContentLoaded", function () {
                        Call.list && (DOM.bind(document), Call.list.sort(function (e, t) {
                            return e.rank - t.rank
                        }), invoke(Call.list, "release"), delete Call.list, setTimeout(function () {
                            var e = DocumentEvent.createEvent(document, "Events");
                            Event.initEvent(e, "ready", !1, !1), EventTarget.dispatchEvent(document, e)
                        }, 1))
                    }, !1)
                }
            }),
            _66 = /^on[a-z]+$/,
            Rule = Base.extend({
                constructor: function (e, t) {
                    function n(e) {
                        var t = assignID(e);
                        if (!s[t]) {
                            s[t] = !0, DOM.bind(e), extend(e, r), extend(e.style, a);
                            for (var n in i) {
                                var o = e,
                                    c = i[n];
                                0 == n.indexOf("document") && (o = document, n = n.slice(8), c = bind(c, e)), o.addEventListener(n, c, !1)
                            }
                        }
                    }

                    e = new Selector(e), Behavior.ancestorOf(t) && (t = t.prototype);
                    var r = {},
                        i = {},
                        a = t.style,
                        s = {};
                    forEach(t, function (e, t) {
                        "@" == t.charAt(0) ? detect(t.slice(1)) && forEach(e, arguments.callee) : "function" == typeof e && _66.test(t) ? i[t.slice(2)] = e : "style" != t && (r[t] = e)
                    }), this.refresh = Call.defer(function () {
                        e.exec(document).forEach(n)
                    }), this.toString = K(e + ""), this.refresh()
                },
                refresh: Undefined
            }),
            RuleList = Collection.extend({
                constructor: function (e) {
                    this.base(e), this.globalize()
                },
                globalize: Call.defer(function () {
                    var e = /[^\s,]+/g,
                        t = /^#[\w-]+$/;
                    forEach(this, function (n, r) {
                        forEach(match(r, e), function (e) {
                            if (t.test(e)) {
                                var n = ViewCSS.toCamelCase(e.slice(1));
                                window[n] = Document.querySelector(document, e)
                            }
                        })
                    })
                }, 10),
                refresh: function () {
                    this.invoke("refresh")
                }
            }, {
                Item: Rule
            });
        eval(this.exports)
    }, eval(base2.namespace);
    var DEFAULT = "@0",
        IGNORE = RegGrp.IGNORE,
        Colorizer = RegGrp.extend({
            constructor: function (e, t, n) {
                this.extend(n), this.patterns = e || {};
                var r = {};
                forEach(e, function (e, n) {
                    r[n] = t[n] || DEFAULT
                }), forEach(t, function (e, n) {
                    r[n] = t[n]
                }), this.base(r)
            },
            patterns: null,
            tabStop: 4,
            urls: !0,
            copy: function () {
                var e = this.base();
                return e.patterns = copy(this.patterns), e
            },
            exec: function (e, t) {
                return e = this.base(this.escape(e)), t || (e = this._67(e), this.urls && (e = Colorizer.urls.exec(e))), this.unescape(e)
            },
            escape: function (e) {
                return (e + "").replace(/</g, "").replace(/&/g, "")
            },
            put: function (e, t) {
                return instanceOf(e, RegGrp.Item) || ("string" == typeof t && (t = t.replace(/@(\d)/, function (t, n) {
                    return format(Colorizer.FORMAT, e, n)
                })), e = this.patterns[e] || Colorizer.patterns[e] || e, instanceOf(e, RegExp) && (e = e.source), e = this.escape(e)), this.base(e, t)
            },
            unescape: function (e) {
                return e.replace(/\x01/g, "&lt;").replace(/\x02/g, "&amp;")
            },
            _67: function (e) {
                var t = this.tabStop;
                if (t > 0) {
                    var n = Array(t + 1).join(" ");
                    return e.replace(Colorizer.TABS, function (e) {
                        if (e = e.replace(Colorizer.TAB, n), t > 1) {
                            var r = (e.length - 1) % t;
                            r && (e = e.slice(0, -r))
                        }
                        return e.replace(/ /g, "&nbsp;")
                    })
                }
                return e
            },
            "@MSIE": {
                _67: function (e) {
                    return this.base(e).replace(/\r?\n/g, "<br>")
                }
            }
        }, {
            version: "0.8",
            FORMAT: '<span class="%1">$%2</span>',
            DEFAULT: DEFAULT,
            IGNORE: IGNORE,
            TAB: /\t/g,
            TABS: /\n([\t \xa0]+)/g,
            init: function () {
                forEach(this.patterns, function (e, t, n) {
                    instanceOf(e, Array) && (n[t] = reduce(e, function (e, t) {
                        return e.add(n[t]), e
                    }, new RegGrp))
                }), this.urls = this.patterns.urls.copy(), this.urls.putAt(0, '<a href="mailto:$0">$0</a>'), this.urls.putAt(1, '<a href="$0">$0</a>')
            },
            addScheme: function (e, t, n, r) {
                this[e] = new this(t, n, r)
            },
            patterns: {
                block_comment: /\/\*[^*]*\*+([^\/][^*]*\*+)*\//,
                email: /([\w.+-]+@[\w.-]+\.\w+)/,
                line_comment: /\/\/[^\r\n]*/,
                number: /\b\-?(0|[1-9]\d*)(\.\d+)?([eE][-+]?\d+)?\b/,
                string1: /'(\\.|[^'\\])*'/,
                string2: /"(\\.|[^"\\])*"/,
                url: /(http:\/\/+[\w\/\-%&#=.,?+$]+)/,
                comment: ["block_comment", "line_comment"],
                string: ["string1", "string2"],
                urls: ["email", "url"]
            },
            urls: null
        });
    with (base2.addPackage("code"), base2.code.addName("Colorizer", Colorizer), base2.code.Colorizer) addScheme("xml", {
        attribute: /(\w+)=("[^"]*"|'[^']*')/,
        cdata: /<!\[CDATA\[([^\]]|\][^\]]|\]\][^>])*\]\]>/,
        comment: /<!\s*(--([^-]|[\r\n]|-[^-])*--\s*)>/,
        entity: /&#?\w+;/,
        "processing-instruction": /<\?[\w-]+[^>]+>/,
        tag: /(<\/?)([\w:-]+)/,
        text: /[>;][^<>&]*/
    }, {
        cdata: IGNORE,
        tag: "$1@2",
        attribute: '@1=<span class="attribute value">$2</span>',
        text: IGNORE
    }, {
        tabStop: 1
    });
    with (base2) code.Colorizer.addScheme("html", {
        conditional: /<!(--)?\[[^\]]*\]>|<!\[endif\](--)?>/,
        doctype: /<!(DOCTYPE|doctype)[^>]+>/,
        inline: /<(script|style)([^>]*)>((\\.|[^\\])*)<\/\1>/
    }, {
        inline: function (e, t, n, r) {
            return format(this.INLINE, t, this.exec(n, !0), r)
        }
    }, {
        INLINE: '&lt;<span class="tag">%1</span>%2&gt;%3&lt;/<span class="tag">%1</span>&gt;',
        tabStop: 1
    });
    with (base2.code.Colorizer) html.merge(xml);
    with (base2.code.Colorizer) addScheme("css", {
        at_rule: /@[\w\s]+/,
        bracketed: /\([^'\x22)]*\)/,
        comment: patterns.block_comment,
        property: /(\w[\w-]*\s*):([^;}]+)/,
        special: /(\-[\w-]*\s*):/,
        selector: /([\w-:\[.#][^{};]*)\{/
    }, {
        bracketed: IGNORE,
        selector: "@1{",
        special: "@1:",
        property: '@1:<span class="property value">$2</span>'
    });
    with (base2.code.Colorizer) addScheme("javascript", {
        conditional: /\/\*@if\s*\([^\)]*\)|\/\*@[\s\w]*|@\*\/|\/\/@\w+|@else[\s\w]*/,
        global: /\b(clearInterval|clearTimeout|constructor|document|escape|hasOwnProperty|Infinity|isNaN|NaN|parseFloat|parseInt|prototype|setInterval|setTimeout|toString|unescape|valueOf|window)\b/,
        keyword: /\b(&&|\|\||arguments|break|case|continue|default|delete|do|else|false|for|function|if|in|instanceof|new|null|return|switch|this|true|typeof|var|void|while|with|undefined)\b/,
        regexp: /([\[(\^=,{}:;&|!*?]\s*)(\/(\\\/|[^\/*])(\\.|[^\/\n\\])*\/[mgi]*)/,
        special: /\b(assert\w*|alert|catch|confirm|console|debug|debugger|eval|finally|prompt|throw|try)\b/
    }, {
        comment: DEFAULT,
        string: DEFAULT,
        regexp: "$1@2",
        number: DEFAULT
    });
    with (base2) with (code) Colorizer["html-multi"] = Colorizer.html.union({
        inline: function (e, t, n, r) {
            var i = "style" == t ? "css" : "javascript";
            return r = Colorizer[i].exec(r, !0), r = format('<span class="%1">%2</span>', i, r), format(this.INLINE, t, this.exec(n, !0), r)
        }
    });
    with (base2.code.Colorizer.javascript) add("\\b(" + (base2.exports + ",base,base2,merge,union,implement,Array2,Date2,String2").match(/[^\s,]+/g).join("|") + ")\\b", '<span class="base2">$0</span>'), insertAt(0, /("@[^"]+"):/, '<span class="special">$1</span>:'), tabStop = 2;
    eval(base2.namespace), eval(DOM.namespace), eval(JSB.namespace);
    var bindings = new RuleList;
    bindings.add("pre", {
        ondocumentready: function () {
            this.hasClass("js") && this.addClass("javascript");
            for (var e = this.className.split(/\s+/), t = 0; e.length > t; t++) {
                var n = e[t],
                    r = Colorizer[n];
                if (r instanceof Colorizer) {
                    var i = Traversal.getTextContent(this);
                    this.innerHTML = r.exec(i), this.addClass("highlight"), "html-multi" == n && this.addClass("html");
                    break
                }
            }
        }
    }), bindings.add("input.required,textarea.required", {
        ondocumentready: updateFlag,
        ondocumentmouseup: updateFlag,
        ondocumentkeyup: updateFlag
    }), eval(base2.namespace), eval(JavaScript.namespace);
    var IGNORE = RegGrp.IGNORE,
        REMOVE = "",
        SPACE = " ",
        WORDS = /\w+/g,
        Packer = Base.extend({
            minify: function (e) {
                return e = e.replace(Packer.CONTINUE, ""), e = Packer.data.exec(e), e = Packer.whitespace.exec(e), e = Packer.clean.exec(e)
            },
            pack: function (e, t, n) {
                return e = this.minify(e + "\n"), n && (e = this._shrinkVariables(e)), t && (e = this._base62Encode(e)), e
            },
            _base62Encode: function (e) {
                var t = new Words(e),
                    n = function (e) {
                        return t.get(e).encoded
                    },
                    r = this._escape(e.replace(WORDS, n)),
                    i = Math.min(Math.max(t.size(), 2), 62),
                    a = t.size(),
                    s = t,
                    o = Packer["ENCODE" + (i > 10 ? i > 36 ? 62 : 36 : 10)],
                    c = i > 10 ? "e(c)" : "c";
                return format(Packer.UNPACK, r, i, a, s, o, c)
            },
            _escape: function (e) {
                return e.replace(/([\\'])/g, "\\$1").replace(/[\r\n]+/g, "\\n")
            },
            _shrinkVariables: function (e) {
                var t = function (e) {
                        return RegExp(e.source, "g")
                    },
                    n = [],
                    r = /^[^'"]\//,
                    i = function (e) {
                        var t = "#" + n.length;
                        return r.test(e) && (t = e.charAt(0) + t, e = e.slice(1)), n.push(e), t
                    },
                    a = function (e) {
                        return (52 > e ? "" : arguments.callee(parseInt(e / 52))) + ((e %= 52) > 25 ? String.fromCharCode(e + 39) : String.fromCharCode(e + 97))
                    },
                    s = /(function\s*[\w$]*\s*\(\s*([^\)]*)\s*\)\s*)?(\{([^{}]*)\})/,
                    o = /var\s+/g,
                    c = /var\s+[\w$]+/g,
                    u = /\s*,\s*/,
                    l = [],
                    f = function (e, n, r) {
                        if (n) {
                            e = d(e);
                            var i, s = match(e, c).join(",").replace(o, ""),
                                f = Array2.combine(r.split(u).concat(s.split(u))),
                                h = 0;
                            forEach(f, function (n) {
                                if (n = trim(n), n && n.length > 1) {
                                    n = rescape(n);
                                    do i = a(h++); while (RegExp("[^\\w$.]" + i + "[^\\w$:]").test(e));
                                    for (var r = RegExp("([^\\w$.])" + n + "([^\\w$:])"); r.test(e);) e = e.replace(t(r), "$1" + i + "$2");
                                    var r = RegExp("([^{,\\w$.])" + n + ":", "g");
                                    e = e.replace(r, "$1" + i + ":")
                                }
                            })
                        }
                        var p = "~" + l.length + "~";
                        return l.push(e), p
                    },
                    h = /~(\d+)~/,
                    d = function (e) {
                        for (; h.test(e);) e = e.replace(t(h), function (e, t) {
                            return l[t]
                        });
                        return e
                    };
                for (e = Packer.data.exec(e, i), e = e.replace(/new function\(_\)\s*\{/g, "{;#;"); s.test(e);) e = e.replace(t(s), f);
                return e = d(e), e = e.replace(/\{;#;/g, "new function(_){"), e = e.replace(/#(\d+)/g, function (e, t) {
                    return n[t]
                })
            }
        }, {
            CONTINUE: /\\\r?\n/g,
            ENCODE10: "String",
            ENCODE36: "function(c){return c.toString(a)}",
            ENCODE62: "function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))}",
            UNPACK: "eval('/*www.Gocoder.net*/'+function(p,a,c,k,e,r,GoCoderNet){e=%5;if(!''.replace(/^/,String)){while(c--)r[%6]=k[c]||%6;k=[function(e){return r[e]}];e=function(){return'\\\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\\\b'+e(c)+'\\\\b','g'),k[c]);return p}('%1',%2,%3,'%4'.split('|'),0,{}))",
            init: function () {
                this.data = reduce(this.data, function (e, t, n) {
                    return e.put(this.javascript.exec(n), t), e
                }, new RegGrp, this), this.clean = this.data.union(this.clean), this.whitespace = this.data.union(this.whitespace)
            },
            clean: {
                "\\(\\s*;\\s*;\\s*\\)": "(;;)",
                "throw[^};]+[};]": IGNORE,
                ";+\\s*([};])": "$1"
            },
            data: {
                STRING1: IGNORE,
                STRING2: IGNORE,
                CONDITIONAL: IGNORE,
                "(COMMENT1)\\n\\s*(REGEXP)?": "\n$3",
                "(COMMENT2)\\s*(REGEXP)?": " $3",
                "([\\[(\\^=,{}:;&|!*?])\\s*(REGEXP)": "$1$2"
            },
            javascript: new RegGrp({
                COMMENT1: /(\/\/|;;;)[^\n]*/.source,
                COMMENT2: /\/\*[^*]*\*+([^\/][^*]*\*+)*\//.source,
                CONDITIONAL: /\/\*@|@\*\/|\/\/@[^\n]*\n/.source,
                REGEXP: /\/(\\[\/\\]|[^*\/])(\\.|[^\/\n\\])*\/[gim]*/.source,
                STRING1: /'(\\.|[^'\\])*'/.source,
                STRING2: /"(\\.|[^"\\])*"/.source
            }),
            whitespace: {
                "(\\d)\\s+(\\.\\s*[a-z\\$_\\[(])": "$1 $2",
                "([+-])\\s+([+-])": "$1 $2",
                "\\b\\s+\\$\\s+\\b": " $ ",
                "\\$\\s+\\b": "$ ",
                "\\b\\s+\\$": " $",
                "\\b\\s+\\b": SPACE,
                "\\s+": REMOVE
            }
        }),
        Words = Collection.extend({
            constructor: function (e) {
                this.base(), forEach(e.match(WORDS), this.add, this), this.encode()
            },
            add: function (e) {
                return this.has(e) || this.base(e), e = this.get(e), e.count++, e
            },
            encode: function () {
                this.sort(function (e, t) {
                    return t.count - e.count
                }), eval("var a=62,e=" + Packer.ENCODE62);
                for (var encode = e, encoded = new Collection, count = this.size(), i = 0; count > i; i++) encoded.put(encode(i), i);
                var empty = function () {
                        return ""
                    },
                    index = 0;
                forEach(this, function (e) {
                    if (encoded.has(e)) e.index = encoded.get(e), e.toString = empty;
                    else {
                        for (; this.has(encode(index));) index++;
                        e.index = index++
                    }
                    e.encoded = encode(e.index)
                }, this), this.sort(function (e, t) {
                    return e.index - t.index
                })
            },
            toString: function () {
                return this.getValues().join("|")
            }
        }, {
            Item: {
                constructor: function (e) {
                    this.toString = function () {
                        return e
                    }
                },
                count: 0,
                encoded: "",
                index: -1
            }
        }),
        packer = new Packer;
    window.packer = packer
}();